# Stateful, Stateless

---

## 무상태 프로토콜(Stateless)

: 서버가 클라이언트의 상태를 보존하지 X

- 장점 : 서버 확장성 높음(스케일 아웃)
- 단점 : 클라이언트가 추가 데이터 전송

## Stateful, Stateless 차이

### 1. Stateful - 상태 유지

: 서버가 클라이언트의 이전 상태를 보존 

- 항상 같은 서버가 유지되어야 함
- 중간에 서버가 죽으면 처음부터 다시 해야함

### 2. Stateles - 무상태

: 서버가 클라이언트이 상태를 보존하지 X

- 클라이언트가 서버에게 요청할 때 필요한 데이터를 그떄그때 다 넘김
- 아무 서버나 호출해도 됨
- 중간에 서버가 죽으면 다른 서버로 바꿈
- 스케일 아웃에 유리함
\* 스케일 아웃 : 수평 확장 유리

### 정리

- 상태 유지
: 중간에 다른 점원으로 바뀌면 안됨 (바뀌는 경우 상태 정보를 다른 점원에게 미리 알려줘야 함)
- 무상태
: 중간에 다른 점원으로 바뀌어도 됨
    - 갑자기 고객이 증가해도 점원을 대거 투입 가능
    - 갑자기 클라이언트 요청이 증가해도 서버를 대거 투입 가능
- 무상태는 응답 서버를 쉽게 바꿀 수 있음 **→ 무한한 서버 증설 가능**

## Stateless 실무 한계

- 모든 것을 무상태로 설계 할 수 있는 경우도 있고 없는 경우도 있다.
- 무상태
 → 로그인이 필요없는 단순한 서비스 소개 화면
- 상태 유지
 → 로그인 등..
- 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지
⇒ 일반적으로 브라우저 쿠키와 서버 세션 등을 사용해서 상태를 유지함
- **상태 유지는 최소한만 사용**